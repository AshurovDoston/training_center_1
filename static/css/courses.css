/* ==========================================================================
   Courses CSS - Course List, Detail, and Lesson Styles
   ========================================================================== */

/* ==========================================================================
   Hero Section — Large gradient banner for the home page
   ========================================================================== */

/*
 * .hero--large creates an eye-catching hero section with a gradient background.
 *
 * CSS CONCEPT: linear-gradient()
 * Creates a smooth color transition between two (or more) colors.
 * The first value (135deg) is the angle — 135deg goes from top-left to bottom-right.
 * The colors blend from --color-primary (blue) to a slightly different blue (#1e40af).
 *
 * Why negative margins? The .main container has horizontal padding. We use negative
 * margins to make the hero stretch full-width, then add padding back inside.
 */
.hero--large {
    background-color: var(--color-primary-light);
    color: var(--color-text);
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-xl);
    margin: calc(-1 * var(--spacing-xl)) calc(-1 * var(--spacing-md)) var(--spacing-2xl);
    border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
}

/* Hero title — dark text on light background */
.hero--large .hero-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-text);
    margin: 0 0 var(--spacing-md) 0;
    line-height: 1.2;
}

/* Hero subtitle — muted text for visual hierarchy */
.hero--large .hero-subtitle {
    font-size: var(--font-size-lg);
    color: var(--color-text-muted);
    margin: 0 0 var(--spacing-xl) 0;
    line-height: 1.6;
    max-width: 600px;
    margin-left: auto;   /* Centers the subtitle by setting left and */
    margin-right: auto;  /* right margins to auto (text-align centers inline content) */
    margin-bottom: var(--spacing-xl);
}

/* Container for the CTA buttons in the hero */
.hero-actions {
    display: flex;
    justify-content: center;
    gap: var(--spacing-md);
    flex-wrap: wrap; /* Buttons stack on very small screens */
}

/* On the light hero, secondary button uses white background for contrast */
.hero--large .btn-secondary {
    background-color: var(--color-white);
    color: var(--color-text);
    border-color: var(--color-border);
}

.hero--large .btn-secondary:hover {
    background-color: var(--color-bg);
}

/* ==========================================================================
   Home Page Sections — Reusable section styling for the home page
   ========================================================================== */

/*
 * .section-home provides consistent spacing and centered headings for
 * each major section on the home page (featured courses, features, etc.).
 */
.section-home {
    margin-bottom: var(--spacing-3xl);
}

.section-home-title {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--color-text);
    text-align: center;
    margin: 0 0 var(--spacing-sm) 0;
}

.section-home-subtitle {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
    text-align: center;
    margin: 0 0 var(--spacing-xl) 0;
}

/* "View All Courses" link below the featured courses grid */
.section-home-action {
    text-align: center;
    margin-top: var(--spacing-xl);
}

/* ==========================================================================
   Features Grid — "Why Gamzan?" section with icon cards
   ========================================================================== */

/*
 * CSS CONCEPT: CSS Grid
 * display: grid turns the container into a grid layout.
 * grid-template-columns defines column sizes.
 * repeat(auto-fill, minmax(280px, 1fr)) means:
 *   - Create as many columns as will fit
 *   - Each column is at minimum 280px, at maximum equal share of space
 *   - Cards automatically wrap to new rows when space runs out
 */
.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--spacing-xl);
}

/* Individual feature card */
.feature-card {
    text-align: center;
    padding: var(--spacing-xl);
    background-color: var(--color-white);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
    transition: box-shadow var(--transition-base), transform var(--transition-base);
}

/* Lift effect on hover — gives a feeling of interactivity */
.feature-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

/* Large Unicode icon */
.feature-icon {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
    line-height: 1;
}

.feature-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

.feature-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    line-height: 1.6;
    margin: 0;
}

/* ==========================================================================
   CTA Section — Prominent call to action at the bottom of the home page
   ========================================================================== */

.cta-section--prominent {
    text-align: center;
    padding: var(--spacing-3xl) var(--spacing-xl);
    background-color: var(--color-white);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
    margin-bottom: var(--spacing-xl);
}

.cta-title {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

.cta-text {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
    margin: 0 0 var(--spacing-xl) 0;
}

/* ==========================================================================
   Page Header - Reusable section header for any list page
   ========================================================================== */

/*
 * .page-header provides consistent styling for page titles.
 * Use this at the top of any list or landing page.
 * The bottom margin creates visual separation from content below.
 */
.page-header {
    margin-bottom: var(--spacing-xl);
}

.page-header .page-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

.page-header .page-subtitle {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
    margin: 0;
}

/* ==========================================================================
   Search Bar — Input for filtering courses on the course list page
   ========================================================================== */

.search-bar {
    margin-bottom: var(--spacing-xl);
}

/*
 * The search input is styled large and prominent so users notice it.
 * The focus state uses the same blue ring pattern as form inputs.
 */
.search-input {
    width: 100%;
    padding: var(--spacing-md) var(--spacing-lg);
    font-size: var(--font-size-base);
    font-family: inherit;
    color: var(--color-text);
    background-color: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    transition: border-color var(--transition-base), box-shadow var(--transition-base);
}

.search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Hide a filtered-out course card (toggled by search.js) */
.course-card--hidden {
    display: none;
}

/* ==========================================================================
   Course Grid - Responsive layout for course cards
   ========================================================================== */

/*
 * CSS Grid creates a responsive layout without complex media queries.
 * repeat(auto-fill, minmax(320px, 1fr)) means:
 * - Fill as many columns as fit
 * - Each column is minimum 320px, maximum equal share of space
 * - Cards automatically wrap to new rows on smaller screens
 */
.course-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--spacing-lg);
}

/* ==========================================================================
   Course Card - Card component for displaying course summaries
   ========================================================================== */

/*
 * .course-card follows the card pattern from auth.css.
 * White background + shadow creates visual hierarchy.
 * Flexbox with column direction allows footer to stick to bottom.
 */
.course-card {
    background-color: var(--color-white);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: box-shadow 0.15s ease-in-out;
}

.course-card:hover {
    box-shadow: var(--shadow-md);
}

/*
 * .course-card-body contains the main content.
 * flex: 1 makes it grow to fill available space,
 * pushing the footer to the bottom regardless of content height.
 */
.course-card-body {
    padding: var(--spacing-lg);
    flex: 1;
}

.course-card-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

/*
 * Linking the title makes the primary action obvious.
 * Inheriting color keeps it readable; underline on hover signals clickability.
 */
.course-card-title a {
    color: inherit;
    text-decoration: none;
}

.course-card-title a:hover {
    color: var(--color-primary);
}

.course-card-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin: 0 0 var(--spacing-md) 0;
    line-height: 1.6;
}

.course-card-instructor {
    font-size: var(--font-size-sm);
    color: var(--color-text);
    margin: 0 0 var(--spacing-md) 0;
}

.course-card-instructor strong {
    font-weight: 500;
}

/*
 * .course-card-footer is visually separated with a border.
 * It contains secondary actions like "View Details".
 */
.course-card-footer {
    padding: var(--spacing-md) var(--spacing-lg);
    border-top: 1px solid var(--color-border);
    background-color: var(--color-bg);
}

/* ==========================================================================
   Course Stats - Inline metadata badges
   ========================================================================== */

/*
 * .course-stats displays counts (modules, lessons, enrollments) in a row.
 * Using flexbox with wrap allows badges to flow onto new lines if needed.
 */
.course-stats {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-md);
}

/*
 * .stat-item is a small badge showing a label and value.
 * Muted colors keep stats secondary to the main content.
 * This pattern can be reused for tags, categories, etc.
 */
.stat-item {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    background-color: var(--color-bg);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--border-radius);
    border: 1px solid var(--color-border);
}

.stat-item strong {
    font-weight: 600;
    color: var(--color-text);
}

/* ==========================================================================
   Empty State - Message when no content exists
   ========================================================================== */

/*
 * .empty-state provides a friendly message when a list is empty.
 * Centered text and muted styling make it non-intrusive.
 * Padding creates visual breathing room.
 */
.empty-state {
    text-align: center;
    padding: var(--spacing-2xl) var(--spacing-lg);
    color: var(--color-text-muted);
}

.empty-state p {
    margin: 0;
    font-size: var(--font-size-base);
}

/* ==========================================================================
   Back Link - Return navigation for detail pages
   ========================================================================== */

/*
 * .back-link provides a way to return to the parent page.
 * Positioned before main content, it aids navigation flow.
 */
.back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    text-decoration: none;
    margin-bottom: var(--spacing-lg);
}

.back-link:hover {
    color: var(--color-primary);
}

/* Arrow character before the link text */
.back-link::before {
    content: "\2190";  /* Left arrow */
}

/* ==========================================================================
   Section - Content sections with consistent spacing
   ========================================================================== */

/*
 * .section creates consistent vertical rhythm between content blocks.
 * Used in course detail for description, instructor bio, curriculum, etc.
 */
.section {
    margin-bottom: var(--spacing-xl);
}

.section-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 var(--spacing-md) 0;
    padding-bottom: var(--spacing-sm);
    border-bottom: 1px solid var(--color-border);
}

.section-content {
    color: var(--color-text);
    line-height: 1.7;
}

.section-content p {
    margin: 0 0 var(--spacing-md) 0;
}

.section-content p:last-child {
    margin-bottom: 0;
}

/* ==========================================================================
   Course Detail - Specific styles for course detail page
   ========================================================================== */

.course-detail {
    max-width: 800px;
}

.course-header {
    margin-bottom: var(--spacing-xl);
}

.course-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

.course-instructor {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
}

.instructor-name {
    color: var(--color-text);
    font-weight: 500;
}

/* Enrollment section styling — centered CTA block */
.course-enrollment {
    background-color: var(--color-bg);
    padding: var(--spacing-xl);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
    margin-bottom: var(--spacing-xl);
    text-align: center;
}

.enrollment-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

.enrollment-text {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
    margin: 0 0 var(--spacing-lg) 0;
}

.enrollment-status {
    color: var(--color-text-muted);
    margin: 0 0 var(--spacing-md) 0;
}

.enrollment-status--enrolled {
    color: var(--color-success);
    font-weight: 500;
}

.enrollment-prompt {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
    margin: 0;
}

.enrollment-or {
    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
}

/* ==========================================================================
   Module List - Course curriculum structure
   ========================================================================== */

/*
 * Module list removes default list styling.
 * Each module is a collapsible-style section (visually, not functionally).
 */
.module-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.module-item {
    background-color: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    margin-bottom: var(--spacing-md);
    overflow: hidden;
}

.module-item:last-child {
    margin-bottom: 0;
}

/* ==========================================================================
   Accordion — Collapsible module headers (used on course detail page)
   ========================================================================== */

/*
 * The accordion turns each module into a clickable header that expands
 * to reveal the lessons inside. accordion.js controls the open/close logic.
 *
 * CSS CONCEPT: max-height transition
 * You can't animate height from 0 to auto in CSS. Instead, we animate
 * max-height from 0 to a specific pixel value (set by JavaScript).
 * The transition property makes this change smooth instead of instant.
 */

/* The clickable header button for each module */
.accordion-header {
    width: 100%;
    display: flex;
    justify-content: space-between;  /* Pushes title left, icon right */
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    background-color: var(--color-bg);
    border: none;
    border-bottom: 1px solid var(--color-border);
    cursor: pointer;
    font-size: var(--font-size-base);
    font-weight: 600;
    font-family: inherit;
    color: var(--color-text);
    text-align: left;
    transition: background-color var(--transition-base);
}

.accordion-header:hover {
    background-color: var(--color-primary-light);
}

/* The module title text inside the accordion header */
.accordion-title {
    flex: 1;
}

/* The +/- icon on the right side of the accordion header */
.accordion-icon {
    font-size: var(--font-size-lg);
    font-weight: 400;
    color: var(--color-text-muted);
    margin-left: var(--spacing-md);
    transition: transform var(--transition-base);
}

/* The collapsible content panel (hidden by default via max-height: 0) */
.accordion-panel {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
}

/*
 * Lesson list within a module.
 * Indented slightly to show hierarchy.
 */
.lesson-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.lesson-item {
    padding: var(--spacing-sm) var(--spacing-lg);
    border-bottom: 1px solid var(--color-border);
}

.lesson-item:last-child {
    border-bottom: none;
}

.lesson-item a {
    color: var(--color-primary);
    text-decoration: none;
    font-size: var(--font-size-sm);
}

.lesson-item a:hover {
    text-decoration: underline;
}

.no-lessons,
.no-modules {
    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
    font-style: italic;
    padding: var(--spacing-md) var(--spacing-lg);
    margin: 0;
}

/* ==========================================================================
   Hero Section — Compact gradient banner for course detail pages
   ========================================================================== */

.hero--detail {
    background-color: var(--color-primary-light);
    color: var(--color-text);
    padding: var(--spacing-xl) var(--spacing-xl);
    margin: calc(0 * var(--spacing-xl)) calc(-1 * var(--spacing-md)) var(--spacing-xl);
    border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
}

.hero-detail-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
    line-height: 1.2;
}

.hero-detail-instructor {
    font-size: var(--font-size-base);
    color: var(--color-text-muted);
    margin: 0 0 var(--spacing-md) 0;
}

.hero-detail-instructor strong {
    color: var(--color-text);
}

.course-detail-stats {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.stat-item--hero {
    background-color: var(--color-white);
    border-color: var(--color-border);
    color: var(--color-text-muted);
}

.stat-item--hero strong {
    color: var(--color-primary);
}

/* ==========================================================================
   Accordion Meta — Lesson count label inside accordion headers
   ========================================================================== */

.accordion-meta {
    font-size: var(--font-size-sm);
    font-weight: 400;
    color: var(--color-text-muted);
    margin-left: auto;
    margin-right: var(--spacing-md);
}

/* ==========================================================================
   Instructor Card — Card-style instructor profile on course detail
   ========================================================================== */

.instructor-card {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-lg);
    padding: var(--spacing-lg);
    background-color: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
}

.instructor-card-avatar {
    width: 56px;
    height: 56px;
    min-width: 56px;
    border-radius: 50%;
    background-color: var(--color-primary-light);
    color: var(--color-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xl);
    font-weight: 700;
    text-transform: uppercase;
}

.instructor-card-body {
    flex: 1;
}

.instructor-card-name {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 var(--spacing-sm) 0;
}

.instructor-card-bio {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    line-height: 1.6;
    margin: 0;
}

/* Course meta footer */
.course-meta {
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--color-border);
    margin-top: var(--spacing-xl);
}

.course-created {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin: 0;
}

/* ==========================================================================
   Breadcrumb - Navigation path for nested pages
   ========================================================================== */

/*
 * Breadcrumbs show the user's location in the site hierarchy.
 * Horizontal list with separators between items.
 */
.breadcrumb {
    margin-bottom: var(--spacing-lg);
}

.breadcrumb-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: var(--font-size-sm);
}

.breadcrumb-item {
    display: flex;
    align-items: center;
}

/* Separator between breadcrumb items */
.breadcrumb-item:not(:last-child)::after {
    content: "/";
    margin-left: var(--spacing-xs);
    color: var(--color-text-muted);
}

.breadcrumb-item a {
    color: var(--color-primary);
    text-decoration: none;
}

.breadcrumb-item a:hover {
    text-decoration: underline;
}

.breadcrumb-item span {
    color: var(--color-text-muted);
}

.breadcrumb-current span {
    color: var(--color-text);
    font-weight: 500;
}

/* ==========================================================================
   Lesson Detail - Lesson page specific styles
   ========================================================================== */

/* ==========================================================================
   Lesson Layout — Two-column: sidebar + main content
   ========================================================================== */

/*
 * CSS CONCEPT: CSS Grid for page layout
 * grid-template-columns: 280px 1fr creates two columns:
 * - Left column is exactly 280px wide (sidebar)
 * - Right column takes all remaining space (1fr = 1 fraction of free space)
 * On mobile, this becomes a single column (see responsive section).
 */
.lesson-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: var(--spacing-xl);
    align-items: start; /* Sidebar and main align to the top */
}

/* The main content area (right column) */
.lesson-main {
    min-width: 0; /* Prevents grid blowout from long content */
}

/* ==========================================================================
   Lesson Sidebar — Navigation showing all modules and lessons
   ========================================================================== */

.lesson-sidebar {
    background-color: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    /*
     * position: sticky keeps the sidebar visible as you scroll.
     * top: 80px = stays 80px from the top (below the sticky header).
     * max-height limits how tall it can be, with overflow-y: auto adding a scrollbar.
     */
    position: sticky;
    top: 80px;
    max-height: calc(100vh - 100px);
    overflow-y: auto;
}

/* Sidebar header with course title and close button */
.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-md) var(--spacing-lg);
    border-bottom: 1px solid var(--color-border);
}

.sidebar-course-title {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--color-text);
    text-decoration: none;
}

.sidebar-course-title:hover {
    color: var(--color-primary);
}

/* Close button — only visible on mobile */
.sidebar-close {
    display: none;
    background: none;
    border: none;
    font-size: var(--font-size-xl);
    color: var(--color-text-muted);
    cursor: pointer;
    padding: 0;
    line-height: 1;
}

/* Module title inside the sidebar */
.sidebar-module-title {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: var(--spacing-md) var(--spacing-lg) var(--spacing-xs);
    margin: 0;
}

/* List of lessons inside each module */
.sidebar-lesson-list {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--spacing-sm) 0;
}

/* Individual lesson link in the sidebar */
.sidebar-lesson-link {
    display: block;
    padding: var(--spacing-xs) var(--spacing-lg);
    font-size: var(--font-size-sm);
    color: var(--color-text-light);
    text-decoration: none;
    border-left: 3px solid transparent;
    transition: background-color var(--transition-base), border-color var(--transition-base);
}

.sidebar-lesson-link:hover {
    background-color: var(--color-bg);
    color: var(--color-primary);
}

/* Highlighted current lesson */
.sidebar-lesson--active {
    background-color: var(--color-primary-light);
    color: var(--color-primary);
    font-weight: 500;
    border-left-color: var(--color-primary);
}

/* Toggle button — visible only on mobile */
.sidebar-toggle {
    display: none; /* Hidden on desktop, shown in mobile media query */
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    background-color: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    font-size: var(--font-size-sm);
    font-family: inherit;
    color: var(--color-text);
    cursor: pointer;
    margin-bottom: var(--spacing-md);
}

/* Dark backdrop overlay behind sidebar on mobile */
.sidebar-backdrop {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 199;
}

.sidebar-backdrop--visible {
    display: block;
}

/* ==========================================================================
   Lesson Detail — Lesson-specific styles (inside lesson-main)
   ========================================================================== */

.lesson-detail {
    max-width: 800px;
}

.lesson-header {
    margin-bottom: var(--spacing-xl);
}

.lesson-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-text);
    margin: 0;
}

/*
 * .lesson-content is where the actual lesson text appears.
 * Generous line-height improves readability for long-form content.
 */
.lesson-content {
    line-height: 1.8;
    color: var(--color-text);
    margin-bottom: var(--spacing-xl);
}

.lesson-content p {
    margin: 0 0 var(--spacing-md) 0;
}

/* ==========================================================================
   Lesson Navigation - Previous/Next lesson links
   ========================================================================== */

/*
 * .lesson-navigation uses flexbox to position prev/next links.
 * justify-content: space-between pushes them to opposite edges.
 * When only one exists, it stays on its natural side.
 */
.lesson-navigation {
    display: flex;
    justify-content: space-between;
    align-items: stretch;
    gap: var(--spacing-md);
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
    margin-top: var(--spacing-xl);
}

.nav-previous,
.nav-next {
    flex: 1;
    max-width: 45%;
}

/* Align next link to the right */
.nav-next {
    text-align: right;
    margin-left: auto;
}

/*
 * Navigation links styled as subtle cards.
 * Display as block allows the entire card to be clickable.
 */
.nav-link {
    display: block;
    padding: var(--spacing-md);
    background-color: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius);
    text-decoration: none;
    transition: border-color 0.15s ease-in-out;
}

.nav-link:hover {
    border-color: var(--color-primary);
}

.nav-direction {
    display: block;
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-xs);
}

.nav-title {
    display: block;
    font-size: var(--font-size-base);
    color: var(--color-primary);
    font-weight: 500;
}

/* Add arrows to indicate direction */
.nav-link-prev .nav-direction::before {
    content: "\2190 ";  /* Left arrow */
}

.nav-link-next .nav-direction::after {
    content: " \2192";  /* Right arrow */
}

/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */

/* ==========================================================================
   Responsive Adjustments — Mobile-friendly overrides
   ========================================================================== */

@media (max-width: 768px) {
    /* Reduce hero size on mobile */
    .hero--large {
        padding: var(--spacing-xl) var(--spacing-md);
    }

    .hero--large .hero-title {
        font-size: var(--font-size-xl);
    }

    /* Detail hero responsive */
    .hero--detail {
        padding: var(--spacing-lg) var(--spacing-md);
    }

    .hero-detail-title {
        font-size: var(--font-size-xl);
    }

    /* Switch lesson layout from two columns to one */
    .lesson-layout {
        grid-template-columns: 1fr;
    }

    /* Show the sidebar toggle button on mobile */
    .sidebar-toggle {
        display: flex;
    }

    /* Show the close button inside the sidebar on mobile */
    .sidebar-close {
        display: block;
    }

    /*
     * On mobile, the sidebar becomes a fixed overlay that slides in from the left.
     * transform: translateX(-100%) moves it fully off-screen to the left.
     * When sidebar.js adds .sidebar--open, translateX(0) slides it back in.
     */
    .lesson-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 300px;
        max-height: 100vh;
        border-radius: 0;
        z-index: 200;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
    }

    .sidebar--open {
        transform: translateX(0);
    }
}

@media (max-width: 640px) {
    /* Stack lesson navigation on mobile */
    .lesson-navigation {
        flex-direction: column;
    }

    .nav-previous,
    .nav-next {
        max-width: 100%;
        text-align: left;
    }

    .nav-next {
        margin-left: 0;
    }

    /* Instructor card stacks vertically on small screens */
    .instructor-card {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    /* Reduce course card padding on mobile */
    .course-card-body {
        padding: var(--spacing-md);
    }

    .course-card-footer {
        padding: var(--spacing-sm) var(--spacing-md);
    }
}
